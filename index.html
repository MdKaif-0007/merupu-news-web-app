<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" href="/merupuLogo.png" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    

  <!-- <meta property="og:image" content= "https://firebasestorage.googleapis.com/v0/b/merupu…=media&token=0269bee6-8f16-441a-b5ce-72acd2033699" /> -->


    <meta property="og:image" content= result.url />

     <meta property="og:title" content= result.title />
    
    <meta property="og:url" content="https://api/news/id" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Merupu News" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Merupu News" />
    <meta name="twitter:image" content="https://your-cdn.com/image.jpg" />

   
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6358427229469529"
      crossOrigin="anonymous"
    ></script>
    <title>Merupu News</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>

<script>
  const fetchArticle = async () => {
    try {
      // ✅ Extract ID from the URL path (e.g. /news/1234)
      const pathSegments = window.location.pathname.split('/');
      const id = pathSegments[pathSegments.length - 1];
      console.log(id)

      if (!id) {
        console.error("Article ID not found in URL");
        return;
      }

      // Optional: check if article data exists in location.state (React-specific)
      const articleFromState = history.state?.usr?.article;

      if (articleFromState && articleFromState._id === id) {
        console.log("Using article from state:", articleFromState);
        return;
      }

      // ✅ Fetch from backend using the ID
      const res = await fetch(`https://merupu-news.onrender.com/api/news/${id}`);
      if (!res.ok) throw new Error("Failed to fetch article.");
      const result = await res.json();

      if (!result || Object.keys(result).length === 0) {
        throw new Error("Article not found.");
      }

      console.log("Fetched article:", result);

      console.log(result.url);
    } catch (err) {
      console.log(err.message || "Error loading article.");
    }
  };

  fetchArticle();
</script>





      